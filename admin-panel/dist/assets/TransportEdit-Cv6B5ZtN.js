import{o as j,e as y,r as u,j as e,C as l,B as v,Q as g,n as p}from"./index-DeE3vtCn.js";import{h as b,i as T}from"./api-BHjxf7no.js";import{F as t}from"./Form-BuK-_8iF.js";import"./ElementChildren-DI3yop4o.js";import"./Col-BDLpqSzm.js";const I=()=>{const{id:i}=j(),x=y(),[r,c]=u.useState({vehicleType:"",route:{pickup:"",dropoff:""},rate:"",availability:!0,timeOfDay:"Morning"}),[f,d]=u.useState(!0);u.useEffect(()=>{i&&(async()=>{try{const a=await b(i);c(a.data),d(!1)}catch{p.error("Failed to fetch transport details."),d(!1)}})()},[i]);const o=n=>{const{name:a,value:h}=n.target;a.startsWith("route.")?c(s=>({...s,route:{...s.route,[a.split(".")[1]]:h}})):c(s=>({...s,[a]:h}))},m=async n=>{n.preventDefault();try{await T(i,r),p.success("Transport option updated successfully!"),setTimeout(()=>{x("/transport")},2e3)}catch{p.error("Failed to update transport option.")}};return f?e.jsx("div",{children:"Loading..."}):e.jsxs(l,{children:[e.jsx(l.Header,{children:e.jsx(l.Title,{as:"h5",children:"Edit Transport"})}),e.jsx(l.Body,{children:e.jsxs(t,{onSubmit:m,children:[e.jsxs(t.Group,{controlId:"vehicleType",children:[e.jsx(t.Label,{children:"Vehicle Type"}),e.jsx(t.Control,{type:"text",name:"vehicleType",value:r.vehicleType,onChange:o,required:!0})]}),e.jsxs(t.Group,{controlId:"route.pickup",children:[e.jsx(t.Label,{children:"Pickup Location"}),e.jsx(t.Control,{type:"text",name:"route.pickup",value:r.route.pickup,onChange:o,required:!0})]}),e.jsxs(t.Group,{controlId:"route.dropoff",children:[e.jsx(t.Label,{children:"Dropoff Location"}),e.jsx(t.Control,{type:"text",name:"route.dropoff",value:r.route.dropoff,onChange:o,required:!0})]}),e.jsxs(t.Group,{controlId:"rate",children:[e.jsx(t.Label,{children:"Rate"}),e.jsx(t.Control,{type:"number",name:"rate",value:r.rate,onChange:o,required:!0})]}),e.jsx(t.Group,{controlId:"availability",children:e.jsx(t.Check,{type:"checkbox",name:"availability",checked:r.availability,onChange:n=>o({target:{name:"availability",value:n.target.checked}}),label:"Available"})}),e.jsxs(t.Group,{controlId:"timeOfDay",children:[e.jsx(t.Label,{children:"Time of Day"}),e.jsxs(t.Select,{name:"timeOfDay",value:r.timeOfDay,onChange:o,required:!0,children:[e.jsx("option",{value:"Morning",children:"Morning"}),e.jsx("option",{value:"Afternoon",children:"Afternoon"}),e.jsx("option",{value:"Evening",children:"Evening"}),e.jsx("option",{value:"Night",children:"Night"})]})]}),e.jsx(v,{className:"d-inline-flex my-3",variant:"primary",type:"submit",children:"Update Transport"})]})}),e.jsx(g,{})]})};export{I as default};
