import{e as g,r as p,j as e,C as o,B as v,Q as C,n as x}from"./index-DeE3vtCn.js";import{l as b}from"./api-BHjxf7no.js";import{F as t}from"./Form-BuK-_8iF.js";import"./ElementChildren-DI3yop4o.js";import"./Col-BDLpqSzm.js";const G=()=>{const h=g(),[a,s]=p.useState({name:"",description:"",tags:"",destinations:"",tripType:"Domestic",isOneWay:!1,departureAirport:"",returnAirport:"",domesticDetails:{cities:"",transport:"",accommodations:"",localAttractions:""},internationalDetails:{visaRequired:!1,currency:"",airportTransfer:!1,layovers:""},weekendDetails:{activities:"",duration:"",nearbyAttractions:""},agentRate:0,clientRate:0,availability:!0}),[c,d]=p.useState(!1),r=l=>{const{name:n,value:i,type:j,checked:y}=l.target;if(j==="checkbox")s({...a,[n]:y});else if(n.includes("domesticDetails")||n.includes("internationalDetails")||n.includes("weekendDetails")){const[u,D]=n.split(".");s({...a,[u]:{...a[u],[D]:i}})}else s({...a,[n]:i})},m=async l=>{l.preventDefault();const n={...a,tags:a.tags.split(",").map(i=>i.trim()),destinations:a.destinations.split(",").map(i=>i.trim())};console.log("Formatted Data:",n),d(!0);try{await b(n),x.success("Package added successfully!"),setTimeout(()=>{h("/packages")},2e3),s({name:"",description:"",tags:"",destinations:"",tripType:"Domestic",isOneWay:!1,departureAirport:"",returnAirport:"",domesticDetails:{cities:"",transport:"",accommodations:"",localAttractions:""},internationalDetails:{visaRequired:!1,currency:"",airportTransfer:!1,layovers:""},weekendDetails:{activities:"",duration:"",nearbyAttractions:""},agentRate:0,clientRate:0,availability:!0})}catch(i){console.error("Error adding package:",i),x.error("Failed to add package. Please try again later.")}finally{d(!1)}};return e.jsxs(o,{children:[e.jsx(o.Header,{children:e.jsx(o.Title,{as:"h5",children:"Add New Package"})}),e.jsx(o.Body,{children:e.jsxs(t,{onSubmit:m,children:[e.jsxs(t.Group,{controlId:"name",children:[e.jsx(t.Label,{children:"Package Name"}),e.jsx(t.Control,{type:"text",name:"name",value:a.name,onChange:r,required:!0})]}),e.jsxs(t.Group,{controlId:"description",children:[e.jsx(t.Label,{children:"Description"}),e.jsx(t.Control,{as:"textarea",name:"description",value:a.description,onChange:r,required:!0})]}),e.jsxs(t.Group,{controlId:"tags",children:[e.jsx(t.Label,{children:"Tags (comma separated)"}),e.jsx(t.Control,{type:"text",name:"tags",value:a.tags,onChange:r,required:!0})]}),e.jsxs(t.Group,{controlId:"destinations",children:[e.jsx(t.Label,{children:"Destinations (comma separated)"}),e.jsx(t.Control,{type:"text",name:"destinations",value:a.destinations,onChange:r,required:!0})]}),e.jsxs(t.Group,{controlId:"tripType",children:[e.jsx(t.Label,{children:"Trip Type"}),e.jsxs(t.Select,{name:"tripType",value:a.tripType,onChange:r,children:[e.jsx("option",{value:"Domestic",children:"Domestic"}),e.jsx("option",{value:"International",children:"International"}),e.jsx("option",{value:"Weekend",children:"Weekend"})]})]}),e.jsx(t.Group,{controlId:"isOneWay",children:e.jsx(t.Check,{type:"checkbox",name:"isOneWay",label:"One Way",checked:a.isOneWay,onChange:r})}),e.jsxs(t.Group,{controlId:"departureAirport",children:[e.jsx(t.Label,{children:"Departure Airport"}),e.jsx(t.Control,{type:"text",name:"departureAirport",value:a.departureAirport,onChange:r,required:!0})]}),e.jsxs(t.Group,{controlId:"returnAirport",children:[e.jsx(t.Label,{children:"Return Airport"}),e.jsx(t.Control,{type:"text",name:"returnAirport",value:a.returnAirport,onChange:r,required:!0})]}),a.tripType==="Domestic"&&e.jsxs("div",{children:[e.jsx("h6",{children:"Domestic Details"}),e.jsxs(t.Group,{controlId:"domesticDetails.cities",children:[e.jsx(t.Label,{children:"Cities"}),e.jsx(t.Control,{type:"text",name:"domesticDetails.cities",value:a.domesticDetails.cities,onChange:r,required:!0})]}),e.jsxs(t.Group,{controlId:"domesticDetails.transport",children:[e.jsx(t.Label,{children:"Transport"}),e.jsx(t.Control,{type:"text",name:"domesticDetails.transport",value:a.domesticDetails.transport,onChange:r,required:!0})]}),e.jsxs(t.Group,{controlId:"domesticDetails.accommodations",children:[e.jsx(t.Label,{children:"Accommodations"}),e.jsx(t.Control,{type:"text",name:"domesticDetails.accommodations",value:a.domesticDetails.accommodations,onChange:r,required:!0})]}),e.jsxs(t.Group,{controlId:"domesticDetails.localAttractions",children:[e.jsx(t.Label,{children:"Local Attractions"}),e.jsx(t.Control,{type:"text",name:"domesticDetails.localAttractions",value:a.domesticDetails.localAttractions,onChange:r,required:!0})]})]}),a.tripType==="International"&&e.jsxs("div",{children:[e.jsx("h6",{children:"International Details"}),e.jsx(t.Group,{controlId:"internationalDetails.visaRequired",children:e.jsx(t.Check,{type:"checkbox",name:"internationalDetails.visaRequired",label:"Visa Required",checked:a.internationalDetails.visaRequired,onChange:r})}),e.jsxs(t.Group,{controlId:"internationalDetails.currency",children:[e.jsx(t.Label,{children:"Currency"}),e.jsx(t.Control,{type:"text",name:"internationalDetails.currency",value:a.internationalDetails.currency,onChange:r,required:!0})]}),e.jsx(t.Group,{controlId:"internationalDetails.airportTransfer",children:e.jsx(t.Check,{type:"checkbox",name:"internationalDetails.airportTransfer",label:"Airport Transfer",checked:a.internationalDetails.airportTransfer,onChange:r})}),e.jsxs(t.Group,{controlId:"internationalDetails.layovers",children:[e.jsx(t.Label,{children:"Layovers"}),e.jsx(t.Control,{type:"text",name:"internationalDetails.layovers",value:a.internationalDetails.layovers,onChange:r})]})]}),a.tripType==="Weekend"&&e.jsxs("div",{children:[e.jsx("h6",{children:"Weekend Details"}),e.jsxs(t.Group,{controlId:"weekendDetails.activities",children:[e.jsx(t.Label,{children:"Activities"}),e.jsx(t.Control,{type:"text",name:"weekendDetails.activities",value:a.weekendDetails.activities,onChange:r,required:!0})]}),e.jsxs(t.Group,{controlId:"weekendDetails.duration",children:[e.jsx(t.Label,{children:"Duration"}),e.jsx(t.Control,{type:"text",name:"weekendDetails.duration",value:a.weekendDetails.duration,onChange:r,required:!0})]}),e.jsxs(t.Group,{controlId:"weekendDetails.nearbyAttractions",children:[e.jsx(t.Label,{children:"Nearby Attractions"}),e.jsx(t.Control,{type:"text",name:"weekendDetails.nearbyAttractions",value:a.weekendDetails.nearbyAttractions,onChange:r,required:!0})]})]}),e.jsxs(t.Group,{controlId:"agentRate",children:[e.jsx(t.Label,{children:"Agent Rate"}),e.jsx(t.Control,{type:"number",name:"agentRate",value:a.agentRate,onChange:r,required:!0})]}),e.jsxs(t.Group,{controlId:"clientRate",children:[e.jsx(t.Label,{children:"Client Rate"}),e.jsx(t.Control,{type:"number",name:"clientRate",value:a.clientRate,onChange:r,required:!0})]}),e.jsx(t.Group,{controlId:"availability",children:e.jsx(t.Check,{type:"checkbox",name:"availability",label:"Available",checked:a.availability,onChange:r})}),e.jsx(v,{variant:"primary",type:"submit",disabled:c,children:c?"Adding...":"Add Package"})]})}),e.jsx(C,{})]})};export{G as default};
